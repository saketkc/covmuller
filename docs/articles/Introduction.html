<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="covmuller">
<title>Introduction to covmuller â€¢ covmuller</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to covmuller">
<meta property="og:description" content="covmuller">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-55540107-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-55540107-1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">covmuller</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9009</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/Introduction.html">Introduction</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variant-prevalence">Variant prevalence</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variant-prevalence">
    <a class="dropdown-item" href="../articles/MultinomialModeling_Australia.html">Australia</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_Canada.html">Canada</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_Germany.html">Germany</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_India.html">India</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_SouthAfrica.html">South Africa</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_UK.html">United Kingdom</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_USA.html">USA</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variantwise-cases-countries">Variantwise cases - Countries</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variantwise-cases-countries">
    <a class="dropdown-item" href="../articles/VariantAnimation-Germany.html">Animated prevalence in Germany</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-India.html">Animated prevalence in India</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-NewYork.html">Animated prevalence in New York state</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-NYC.html">Animated prevalence in New York City</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-SouthAfrica.html">Animated prevalence in South Africa</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-UK.html">Animated prevalence in United Kingdom</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-USA.html">Animated prevalence in USA</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variantwise-cases-indian-cities">Variantwise cases - Indian Cities</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variantwise-cases-indian-cities">
    <a class="dropdown-item" href="../articles/VariantAnimation-Aizawal.html">Animated prevalence in Aizawl</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Bengaluru.html">Animated prevalence in Bengaluru</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Chennai.html">Animated prevalence in Chennai</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Delhi.html">Animated prevalence in Delhi</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Jaipur.html">Animated prevalence in Jaipur</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Mumbai.html">Animated prevalence in Mumbai</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Pune.html">Animated prevalence in Pune</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/saketkc/covmuller/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to covmuller</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/saketkc/covmuller/blob/HEAD/vignettes/Introduction.Rmd" class="external-link"><code>vignettes/Introduction.Rmd</code></a></small>
      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://saketkc.github.io/covmuller" class="external-link">covmuller</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="get-cases-data">Get cases data<a class="anchor" aria-label="anchor" href="#get-cases-data"></a>
</h2>
<p>We use <a href="https://covid19bharat.org/" class="external-link">covid19bharat.org</a> to
get a tally of daily confirmed cases and then summarize it to monthly
level.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">indian_state_cases</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesMonthlyLong.html">GetIndiaConfirmedCasesMonthlyLong</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">india_cases</span> <span class="op">&lt;-</span> <span class="va">indian_state_cases</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">State</span> <span class="op">==</span> <span class="st">"India"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">india_cases</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   MonthYear State   value      type</span></span>
<span><span class="co">## 1  Mar 2020 India    1635 Confirmed</span></span>
<span><span class="co">## 2  Apr 2020 India   33232 Confirmed</span></span>
<span><span class="co">## 3  May 2020 India  155781 Confirmed</span></span>
<span><span class="co">## 4  Jun 2020 India  395044 Confirmed</span></span>
<span><span class="co">## 5  Jul 2020 India 1111273 Confirmed</span></span>
<span><span class="co">## 6  Aug 2020 India 1990350 Confirmed</span></span></code></pre>
<div class="section level3">
<h3 id="plot-cases-for-india">Plot cases for India<a class="anchor" aria-label="anchor" href="#plot-cases-for-india"></a>
</h3>
<p>It is easy to visualize the monthly case counts on a bar plot:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">BarPlot</span><span class="op">(</span><span class="va">india_cases</span>, ylabel <span class="op">=</span> <span class="st">"Cases per month"</span>, label_si <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="st">"Total cases per month - India"</span>, caption <span class="op">=</span> <span class="st">"**Source: covid19bharat.org&lt;br&gt;**"</span><span class="op">)</span></span>
<span><span class="va">p1</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-3-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="read-variant-data-from-gisaid">Read variant data from GISAID<a class="anchor" aria-label="anchor" href="#read-variant-data-from-gisaid"></a>
</h2>
<p>We utilize <a href="https://www.gisaid.org/" class="external-link">GISAID</a> data to look
at prevalence of variants. To access this data, GISAID requires
registration.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">current_date</span> <span class="op">&lt;-</span> <span class="st">"2022_09_10"</span></span>
<span><span class="va">fpath.tar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"~/github/2021_Covid19_surveillance/data/all_metadata/metadata_tsv_"</span>, <span class="va">current_date</span>, <span class="st">".tar.xz"</span><span class="op">)</span></span>
<span><span class="va">fpath.qs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"~/github/2021_Covid19_surveillance/data/all_metadata/metadata_tsv_"</span>, <span class="va">current_date</span>, <span class="st">".qs"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">fpath.qs</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">gisaid_metadata</span> <span class="op">&lt;-</span> <span class="fu">qs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/qs/man/qread.html" class="external-link">qread</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">fpath.qs</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">gisaid_metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ReadGISAIDMetada.html">ReadGISAIDMetada</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">fpath.tar</span><span class="op">)</span></span>
<span>  <span class="fu">qs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/qs/man/qsave.html" class="external-link">qsave</a></span><span class="op">(</span><span class="va">gisaid_metadata</span>, <span class="va">fpath.qs</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="section level3">
<h3 id="plot-total-sequenced-cases">Plot total sequenced cases<a class="anchor" aria-label="anchor" href="#plot-total-sequenced-cases"></a>
</h3>
<p>We can look at the absolute number of cases that have been sequenced
from a country by filtering out information from the metadata made
available by GISAID (which includes all countries). Here, we visualize
the total sequenced cases coming from India:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gisaid_india</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FilterGISAIDIndia.html">FilterGISAIDIndia</a></span><span class="op">(</span>gisaid_metadata_all <span class="op">=</span> <span class="va">gisaid_metadata</span><span class="op">)</span></span>
<span><span class="va">country_seq_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TotalSequencesPerMonthCountrywise.html">TotalSequencesPerMonthCountrywise</a></span><span class="op">(</span><span class="va">gisaid_india</span>, rename_country_as_state <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">BarPlot</span><span class="op">(</span><span class="va">country_seq_stats</span>, ylabel <span class="op">=</span> <span class="st">"Sequenced per month"</span>, color <span class="op">=</span> <span class="st">"slateblue1"</span>, label_si <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="st">"Total sequences deposited to GISAID from India"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org &lt;br&gt;**"</span><span class="op">)</span></span>
<span><span class="va">p2</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-5-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="overall-how-much-has-india-sequenced-over-months">Overall, how much has India sequenced over months?<a class="anchor" aria-label="anchor" href="#overall-how-much-has-india-sequenced-over-months"></a>
</h3>
<p>While the absolute numbers are informative, a more useful metric is
the proportion of cases (cases sequenced over total cases) that are
getting sequenced. Here we look at the proportion of cases that have
been sequenced in India over the course of the pandemic:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">india_cases_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesMonthlyLong.html">GetIndiaConfirmedCasesMonthlyLong</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">State</span> <span class="op">==</span> <span class="st">"India"</span><span class="op">)</span></span>
<span><span class="va">india_sequencing_proportion</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CombineSequencedCases.html">CombineSequencedCases</a></span><span class="op">(</span></span>
<span>  cases_sequenced <span class="op">=</span> <span class="va">country_seq_stats</span>,</span>
<span>  confirmed_long <span class="op">=</span> <span class="va">india_cases_long</span></span>
<span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu">BarPlot</span><span class="op">(</span><span class="va">india_sequencing_proportion</span>, yaxis <span class="op">=</span> <span class="st">"percent_sequenced_collected"</span>, ylabel <span class="op">=</span> <span class="st">"%  deposited to GISAID"</span>, color <span class="op">=</span> <span class="st">"yellowgreen"</span>, title <span class="op">=</span> <span class="st">"Proportion of cases deposited to GISAID from India"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org and covid19bharat.org&lt;br&gt;**"</span><span class="op">)</span></span>
<span><span class="va">p3</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
<p>For more context, we can combine all the three plots at once:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">/</span> <span class="va">p2</span> <span class="op">/</span> <span class="va">p3</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="plot-proportion-of-cases-that-been-deposited-from-each-state">Plot proportion of cases that been deposited from each state<a class="anchor" aria-label="anchor" href="#plot-proportion-of-cases-that-been-deposited-from-each-state"></a>
</h3>
<p>We can further break down the proportion of sequenced cases at the
state level:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">state_seq_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TotalSequencesPerMonthStatewise.html">TotalSequencesPerMonthStatewise</a></span><span class="op">(</span><span class="va">gisaid_india</span>, drop_country <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">seq_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">country_seq_stats</span>, <span class="va">state_seq_stats</span><span class="op">)</span></span>
<span><span class="va">state_cases_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesMonthlyLong.html">GetIndiaConfirmedCasesMonthlyLong</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">india_sequencing_proportion</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CombineSequencedCases.html">CombineSequencedCases</a></span><span class="op">(</span></span>
<span>  cases_sequenced <span class="op">=</span> <span class="va">seq_stats</span>,</span>
<span>  confirmed_long <span class="op">=</span> <span class="va">state_cases_long</span>,</span>
<span>  month.min <span class="op">=</span> <span class="st">"Feb 2020"</span>,</span>
<span>  month.max <span class="op">=</span> <span class="st">"July 2022"</span>,</span>
<span>  max.percent <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">india_sequencing_proportion</span><span class="op">$</span><span class="va">State</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">india_sequencing_proportion</span><span class="op">$</span><span class="va">State</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="../reference/GetIndianStates.html">GetIndianStates</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">p4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/PlotSequencedPropHeatmap.html">PlotSequencedPropHeatmap</a></span><span class="op">(</span><span class="va">india_sequencing_proportion</span><span class="op">)</span></span>
<span><span class="va">p4</span></span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-8-1.png" width="1056"></p>
</div>
</div>
<div class="section level2">
<h2 id="plot-prevalence">Plot Prevalence<a class="anchor" aria-label="anchor" href="#plot-prevalence"></a>
</h2>
<p>Finally, we look at the prevalence of variants and variants of
concern (VOCs):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">india_month_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SummarizeVariantsMonthwise.html">SummarizeVariantsMonthwise</a></span><span class="op">(</span><span class="va">gisaid_india</span><span class="op">)</span></span>
<span><span class="va">india_month_counts</span><span class="op">$</span><span class="va">State</span> <span class="op">&lt;-</span> <span class="st">"India"</span></span>
<span><span class="va">india_month_prevalence</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CountsToPrevalence.html">CountsToPrevalence</a></span><span class="op">(</span><span class="va">india_month_counts</span><span class="op">)</span></span>
<span><span class="va">vocs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetVOCs.html">GetVOCs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">omicron</span> <span class="op">&lt;-</span> <span class="va">vocs</span><span class="op">[[</span><span class="st">"omicron"</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">vocs</span><span class="op">[[</span><span class="st">"omicron"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">custom_voc_mapping</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  `BA.1.1` <span class="op">=</span> <span class="st">"BA.1"</span>, </span>
<span>  `BA.1` <span class="op">=</span> <span class="st">"BA.1"</span>,</span>
<span>  `BA.2` <span class="op">=</span> <span class="st">"BA.2"</span>,</span>
<span>  `BA.2.10` <span class="op">=</span> <span class="st">"BA.2"</span>,</span>
<span>  `BA.2.10.1` <span class="op">=</span> <span class="st">"BA.2"</span>,</span>
<span>  `BA.2.12` <span class="op">=</span> <span class="st">"BA.2"</span>,</span>
<span>  `BA.2.12.1` <span class="op">=</span> <span class="st">"BA.2"</span>,</span>
<span>  `BA.3` <span class="op">=</span> <span class="st">"BA.3"</span>,</span>
<span>  `BA.4` <span class="op">=</span> <span class="st">"BA.4"</span>,</span>
<span>  `BA.5` <span class="op">=</span> <span class="st">"BA.5"</span>,</span>
<span>  `BA.2.74` <span class="op">=</span> <span class="st">"BA.2.74"</span>,</span>
<span>  `BA.2.75` <span class="op">=</span> <span class="st">"BA.2.75"</span>,</span>
<span>  `BA.2.76` <span class="op">=</span> <span class="st">"BA.2.76"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">india_month_prevalence</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CollapseLineageToVOCs.html">CollapseLineageToVOCs</a></span><span class="op">(</span></span>
<span>  variant_df <span class="op">=</span> <span class="va">india_month_prevalence</span>,</span>
<span>  vocs <span class="op">=</span> <span class="va">vocs</span>,</span>
<span>  custom_voc_mapping <span class="op">=</span> <span class="va">custom_voc_mapping</span>, summarize <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">p5</span> <span class="op">&lt;-</span> <span class="fu">StackedBarPlotPrevalence</span><span class="op">(</span><span class="va">india_month_prevalence</span><span class="op">)</span></span>
<span><span class="va">p5</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in RColorBrewer::brewer.pal(n, pal): n too large, allowed maximum for palette Set3 is 12</span></span>
<span><span class="co">## Returning the palette you asked for with that many colors</span></span></code></pre>
<p><img src="Introduction_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
<p>For an animated version of the prevalence plot, check out <a href="VariantAnimation.html">VariantAnimation</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Saket Choudhary.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
