<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="covmuller"><title>Introduction to covmuller â€¢ covmuller</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to covmuller"><meta property="og:description" content="covmuller"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-55540107-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-55540107-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">covmuller</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9009</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../articles/Introduction.html">Introduction</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variant-prevalence">Variant prevalence</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variant-prevalence">
    <a class="dropdown-item" href="../articles/MultinomialModeling_Australia.html">Australia</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_Canada.html">Canada</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_Germany.html">Germany</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_India.html">India</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_SouthAfrica.html">South Africa</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_UK.html">United Kingdom</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_USA.html">USA</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variantwise-cases-countries">Variantwise cases - Countries</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variantwise-cases-countries">
    <a class="dropdown-item" href="../articles/VariantAnimation-Germany.html">Animated prevalence in Germany</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-India.html">Animated prevalence in India</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-NewYork.html">Animated prevalence in New York state</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-NYC.html">Animated prevalence in New York City</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-SouthAfrica.html">Animated prevalence in South Africa</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-UK.html">Animated prevalence in United Kingdom</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-USA.html">Animated prevalence in USA</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variantwise-cases-indian-states-cities">Variantwise cases - Indian States/Cities</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variantwise-cases-indian-states-cities">
    <a class="dropdown-item" href="../articles/VariantAnimation-Aizawal.html">Animated prevalence in Aizawl</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Bengaluru.html">Animated prevalence in Bengaluru</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Chennai.html">Animated prevalence in Chennai</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Delhi.html">Animated prevalence in Delhi</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Jaipur.html">Animated prevalence in Jaipur</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Mumbai.html">Animated prevalence in Mumbai</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Pune.html">Animated prevalence in Pune</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Tamilnadu.html">Animated prevalence in Tamil Nadu</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/saketkc/covmuller/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to covmuller</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/saketkc/covmuller/blob/HEAD/vignettes/Introduction.Rmd" class="external-link"><code>vignettes/Introduction.Rmd</code></a></small>
      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>({</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(covmuller)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<div id="get-cases-data" class="section level1">
<h1>Get cases data</h1>
<p>We use <a href="https://covid19bharat.org/">covid19bharat.org</a> to
get a tally of daily confirmed cases and then summarize it to monthly
level.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>indian_state_cases <span class="ot">&lt;-</span> <span class="fu">GetIndiaConfirmedCasesMonthlyLong</span>()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>india_cases <span class="ot">&lt;-</span> indian_state_cases <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">&quot;India&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(india_cases)</span></code></pre></div>
<pre><code>##   MonthYear State   value      type
## 1  Mar 2020 India    1635 Confirmed
## 2  Apr 2020 India   33232 Confirmed
## 3  May 2020 India  155781 Confirmed
## 4  Jun 2020 India  395044 Confirmed
## 5  Jul 2020 India 1111273 Confirmed
## 6  Aug 2020 India 1990350 Confirmed</code></pre>
<div id="plot-cases-for-india" class="section level2">
<h2>Plot cases for India</h2>
<p>It is easy to visualize the monthly case counts on a bar plot:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">BarPlot</span>(india_cases, <span class="at">ylabel =</span> <span class="st">&quot;Cases per month&quot;</span>, <span class="at">label_si =</span> <span class="cn">TRUE</span>, <span class="at">title =</span> <span class="st">&quot;Total cases per month - India&quot;</span>, <span class="at">caption =</span> <span class="st">&quot;**Source: covid19bharat.org&lt;br&gt;**&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>p1</span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-3-1.png" width="768" /></p>
</div>
</div>
<div id="read-variant-data-from-gisaid" class="section level1">
<h1>Read variant data from GISAID</h1>
<p>We utilize <a href="https://www.gisaid.org/">GISAID</a> data to look
at prevalence of variants. To access this data, GISAID requires
registration.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>current_date <span class="ot">&lt;-</span> <span class="st">&quot;2022_10_29&quot;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>fpath.tar <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;~/github/2021_Covid19_surveillance/data/all_metadata/metadata_tsv_&quot;</span>, current_date, <span class="st">&quot;.tar.xz&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>fpath.qs <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;~/github/2021_Covid19_surveillance/data/all_metadata/metadata_tsv_&quot;</span>, current_date, <span class="st">&quot;.qs&quot;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(fpath.qs)) {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  gisaid_metadata <span class="ot">&lt;-</span> qs<span class="sc">::</span><span class="fu">qread</span>(<span class="at">file =</span> fpath.qs)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  gisaid_metadata <span class="ot">&lt;-</span> <span class="fu">ReadGISAIDMetada</span>(<span class="at">path =</span> fpath.tar)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  qs<span class="sc">::</span><span class="fu">qsave</span>(gisaid_metadata, fpath.qs)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div id="plot-total-sequenced-cases" class="section level2">
<h2>Plot total sequenced cases</h2>
<p>We can look at the absolute number of cases that have been sequenced
from a country by filtering out information from the metadata made
available by GISAID (which includes all countries). Here, we visualize
the total sequenced cases coming from India:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>gisaid_india <span class="ot">&lt;-</span> <span class="fu">FilterGISAIDIndia</span>(<span class="at">gisaid_metadata_all =</span> gisaid_metadata)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>country_seq_stats <span class="ot">&lt;-</span> <span class="fu">TotalSequencesPerMonthCountrywise</span>(gisaid_india, <span class="at">rename_country_as_state =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">BarPlot</span>(country_seq_stats, <span class="at">ylabel =</span> <span class="st">&quot;Sequenced per month&quot;</span>, <span class="at">color =</span> <span class="st">&quot;slateblue1&quot;</span>, <span class="at">label_si =</span> <span class="cn">TRUE</span>, <span class="at">title =</span> <span class="st">&quot;Total sequences deposited to GISAID from India&quot;</span>, <span class="at">caption =</span> <span class="st">&quot;**Source: gisaid.org &lt;br&gt;**&quot;</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>p2</span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-5-1.png" width="768" /></p>
</div>
<div id="overall-how-much-has-india-sequenced-over-months"
class="section level2">
<h2>Overall, how much has India sequenced over months?</h2>
<p>While the absolute numbers are informative, a more useful metric is
the proportion of cases (cases sequenced over total cases) that are
getting sequenced. Here we look at the proportion of cases that have
been sequenced in India over the course of the pandemic:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>india_cases_long <span class="ot">&lt;-</span> <span class="fu">GetIndiaConfirmedCasesMonthlyLong</span>() <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">&quot;India&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>india_sequencing_proportion <span class="ot">&lt;-</span> <span class="fu">CombineSequencedCases</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cases_sequenced =</span> country_seq_stats,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">confirmed_long =</span> india_cases_long</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">BarPlot</span>(india_sequencing_proportion, <span class="at">yaxis =</span> <span class="st">&quot;percent_sequenced_collected&quot;</span>, <span class="at">ylabel =</span> <span class="st">&quot;%  deposited to GISAID&quot;</span>, <span class="at">color =</span> <span class="st">&quot;yellowgreen&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Proportion of cases deposited to GISAID from India&quot;</span>, <span class="at">caption =</span> <span class="st">&quot;**Source: gisaid.org and covid19bharat.org&lt;br&gt;**&quot;</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>p3</span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-6-1.png" width="768" /></p>
<p>For more context, we can combine all the three plots at once:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">/</span> p2 <span class="sc">/</span> p3</span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-7-1.png" width="768" /></p>
</div>
<div id="plot-proportion-of-cases-that-been-deposited-from-each-state"
class="section level2">
<h2>Plot proportion of cases that been deposited from each state</h2>
<p>We can further break down the proportion of sequenced cases at the
state level:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>state_seq_stats <span class="ot">&lt;-</span> <span class="fu">TotalSequencesPerMonthStatewise</span>(gisaid_india, <span class="at">drop_country =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>seq_stats <span class="ot">&lt;-</span> <span class="fu">rbind</span>(country_seq_stats, state_seq_stats)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>state_cases_long <span class="ot">&lt;-</span> <span class="fu">GetIndiaConfirmedCasesMonthlyLong</span>()</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>india_sequencing_proportion <span class="ot">&lt;-</span> <span class="fu">CombineSequencedCases</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">cases_sequenced =</span> seq_stats,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">confirmed_long =</span> state_cases_long,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">month.min =</span> <span class="st">&quot;Dec 2021&quot;</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">month.max =</span> <span class="st">&quot;Nov 2022&quot;</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">max.percent =</span> <span class="dv">5</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>india_sequencing_proportion<span class="sc">$</span>State <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> india_sequencing_proportion<span class="sc">$</span>State,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">levels =</span> <span class="fu">as.character</span>(<span class="fu">GetIndianStates</span>())</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">PlotSequencedPropHeatmap</span>(india_sequencing_proportion)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>p4</span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-8-1.png" width="1056" /></p>
</div>
</div>
<div id="plot-prevalence" class="section level1">
<h1>Plot Prevalence</h1>
<p>Finally, we look at the prevalence of variants and variants of
concern (VOCs):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>india_month_counts <span class="ot">&lt;-</span> <span class="fu">SummarizeVariantsMonthwise</span>(gisaid_india)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>india_month_counts<span class="sc">$</span>State <span class="ot">&lt;-</span> <span class="st">&quot;India&quot;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>india_month_prevalence <span class="ot">&lt;-</span> <span class="fu">CountsToPrevalence</span>(india_month_counts)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>vocs <span class="ot">&lt;-</span> <span class="fu">GetVOCs</span>()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>omicron <span class="ot">&lt;-</span> vocs[[<span class="st">&quot;omicron&quot;</span>]]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>vocs[[<span class="st">&quot;omicron&quot;</span>]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>custom_voc_mapping <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.1.1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.1&quot;</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.1&quot;</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2&quot;</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.10</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.X&quot;</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.10.1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.X&quot;</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.12</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.X&quot;</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.12.1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.X&quot;</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.3&quot;</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.4</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.4&quot;</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.5</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.5&quot;</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.74</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.X&quot;</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.75</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.75&quot;</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">BA.2.76</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;BA.2.X&quot;</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">XBB.*</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;XBB&quot;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>india_month_prevalence <span class="ot">&lt;-</span> <span class="fu">CollapseLineageToVOCs</span>(</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">variant_df =</span> india_month_prevalence,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">vocs =</span> vocs,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">custom_voc_mapping =</span> custom_voc_mapping, <span class="at">summarize =</span> <span class="cn">FALSE</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>p5 <span class="ot">&lt;-</span> <span class="fu">StackedBarPlotPrevalence</span>(india_month_prevalence)</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>p5</span></code></pre></div>
<p><img src="Introduction_files/figure-html/unnamed-chunk-9-1.png" width="768" /></p>
<p>For an animated version of the prevalence plot, check out <a
href="VariantAnimation.html">VariantAnimation</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>



    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Saket Choudhary.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>
