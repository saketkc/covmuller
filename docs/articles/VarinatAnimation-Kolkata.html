<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="covmuller">
<title>Animation of projected weekly cases - Kolkata (India) • covmuller</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Animation of projected weekly cases - Kolkata (India)">
<meta property="og:description" content="covmuller">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-55540107-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-55540107-1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">covmuller</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2.0001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/Introduction.html">Introduction</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variant-prevalence">Variant prevalence</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variant-prevalence">
    <a class="dropdown-item" href="../articles/MultinomialModeling_Australia.html">Australia</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_Canada.html">Canada</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_Germany.html">Germany</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_India.html">India</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_SouthAfrica.html">South Africa</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_UK.html">United Kingdom</a>
    <a class="dropdown-item" href="../articles/MultinomialModeling_USA.html">USA</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variantwise-cases-countries">Variantwise cases - Countries</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variantwise-cases-countries">
    <a class="dropdown-item" href="../articles/VariantAnimation-Germany.html">Animated prevalence in Germany</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-India.html">Animated prevalence in India</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-NewYork.html">Animated prevalence in New York state</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-NYC.html">Animated prevalence in New York City</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-SouthAfrica.html">Animated prevalence in South Africa</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-UK.html">Animated prevalence in United Kingdom</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-USA.html">Animated prevalence in USA</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-variantwise-cases-indian-states-cities">Variantwise cases - Indian States/Cities</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-variantwise-cases-indian-states-cities">
    <a class="dropdown-item" href="../articles/VariantAnimation-Aizawal.html">Animated prevalence in Aizawl</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Bengaluru.html">Animated prevalence in Bengaluru</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Chennai.html">Animated prevalence in Chennai</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Delhi.html">Animated prevalence in Delhi</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Jaipur.html">Animated prevalence in Jaipur</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Mumbai.html">Animated prevalence in Mumbai</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Pune.html">Animated prevalence in Pune</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Gujarat.html">Animated prevalence in Gujarat</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Maharashtra.html">Animated prevalence in Maharashtra</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Telangana.html">Animated prevalence in Telangana</a>
    <a class="dropdown-item" href="../articles/VariantAnimation-Tamilnadu.html">Animated prevalence in Tamil Nadu</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/saketkc/covmuller/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="VarinatAnimation-Kolkata_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="VarinatAnimation-Kolkata_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="VarinatAnimation-Kolkata_files/datatables-binding-0.31/datatables.js"></script><link href="VarinatAnimation-Kolkata_files/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="VarinatAnimation-Kolkata_files/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="VarinatAnimation-Kolkata_files/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="VarinatAnimation-Kolkata_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="VarinatAnimation-Kolkata_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Animation of projected weekly cases - Kolkata (India)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/saketkc/covmuller/blob/HEAD/vignettes/VarinatAnimation-Kolkata.Rmd" class="external-link"><code>vignettes/VarinatAnimation-Kolkata.Rmd</code></a></small>
      <div class="d-none name"><code>VarinatAnimation-Kolkata.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://saketkc.github.io/covmuller" class="external-link">covmuller</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="../reference/CovmullerTheme.html">CovmullerTheme</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="get-variants-data-for-india">Get variants data for India<a class="anchor" aria-label="anchor" href="#get-variants-data-for-india"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gisaid_metadata</span> <span class="op">&lt;-</span> <span class="fu">qs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/qs/man/qread.html" class="external-link">qread</a></span><span class="op">(</span><span class="st">"~/data/epicov/metadata_tsv_2024_01_08.qs"</span><span class="op">)</span></span>
<span><span class="va">gisaid_india</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FilterGISAIDIndia.html">FilterGISAIDIndia</a></span><span class="op">(</span>gisaid_metadata_all <span class="op">=</span> <span class="va">gisaid_metadata</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vocs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetVOCs.html">GetVOCs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">omicron</span> <span class="op">&lt;-</span> <span class="va">vocs</span><span class="op">[[</span><span class="st">"omicron"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">vocs</span><span class="op">[[</span><span class="st">"omicron"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">custom_voc_mapping</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  `BA.1.1` <span class="op">=</span> <span class="st">"BA.1"</span>,</span>
<span>  `BA.1` <span class="op">=</span> <span class="st">"BA.1"</span>,</span>
<span>  `BA.2` <span class="op">=</span> <span class="st">"BA.2"</span>,</span>
<span>  `BA.2.10` <span class="op">=</span> <span class="st">"BA.2.X"</span>,</span>
<span>  `BA.2.10.1` <span class="op">=</span> <span class="st">"BA.2.X"</span>,</span>
<span>  `BA.2.12` <span class="op">=</span> <span class="st">"BA.2.X"</span>,</span>
<span>  `BA.2.12.1` <span class="op">=</span> <span class="st">"BA.2.X"</span>,</span>
<span>  `BA.3` <span class="op">=</span> <span class="st">"BA.3"</span>,</span>
<span>  `BA.4` <span class="op">=</span> <span class="st">"BA.4"</span>,</span>
<span>  `BA.5` <span class="op">=</span> <span class="st">"BA.5"</span>,</span>
<span>  `BA.2.74` <span class="op">=</span> <span class="st">"BA.2.X"</span>,</span>
<span>  `BA.2.75` <span class="op">=</span> <span class="st">"BA.2.75"</span>,</span>
<span>  `BA.2.76` <span class="op">=</span> <span class="st">"BA.2.X"</span>,</span>
<span>  `XBB.*` <span class="op">=</span> <span class="st">"XBB"</span>,</span>
<span>  `BQ.1` <span class="op">=</span> <span class="st">"BQ.1+"</span>,</span>
<span>  `BQ.1.*` <span class="op">=</span> <span class="st">"BQ.1+"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">gisaid_india</span> <span class="op">&lt;-</span> <span class="va">gisaid_india</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">pangolin_lineage</span> <span class="op">!=</span> <span class="st">"None"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">pangolin_lineage</span> <span class="op">!=</span> <span class="st">"Unassigned"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">District</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_title</a></span><span class="op">(</span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">District</span><span class="op">)</span></span>
<span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">City</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_title</a></span><span class="op">(</span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">City</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span> <span class="op">&lt;-</span> <span class="va">gisaid_india</span><span class="op">$</span><span class="va">City</span></span>
<span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span><span class="op">[</span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span> <span class="op">==</span> <span class="st">""</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">gisaid_india</span><span class="op">$</span><span class="va">District</span><span class="op">[</span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span> <span class="op">==</span> <span class="st">""</span><span class="op">]</span></span>
<span></span>
<span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span> <span class="op">&lt;-</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_title</a></span><span class="op">(</span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_india</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CollapseLineageToVOCs.html">CollapseLineageToVOCs</a></span><span class="op">(</span></span>
<span>  variant_df <span class="op">=</span> <span class="va">gisaid_india</span>,</span>
<span>  vocs <span class="op">=</span> <span class="va">vocs</span>,</span>
<span>  custom_voc_mapping <span class="op">=</span> <span class="va">custom_voc_mapping</span>,</span>
<span>  summarize <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="top-10-cities-with-most-number-of-sequenced-samples">Top 10 cities with most number of sequenced samples<a class="anchor" aria-label="anchor" href="#top-10-cities-with-most-number-of-sequenced-samples"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">city_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">gisaid_india</span><span class="op">$</span><span class="va">custom_city</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>City <span class="op">=</span> <span class="va">Var1</span>, `Total sequences` <span class="op">=</span> <span class="va">Freq</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">city_counts</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">`Total sequences`</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-c2cbf48ff48f2bbc43b3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c2cbf48ff48f2bbc43b3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783"],["","Ahmedabad","Pune","Bengaluru","Mumbai","Hyderabad","Kolkata","Chennai","Jaipur","Aizawl","Vadodara","New Delhi","Nagpur","Thane","Howrah","Mysore","Surat","Raigad","Bengaluru Urban","Bangalore Urban","Coimbatore","Gurugram","Mehsana","Khordha","Rajkot","Udaipur","Ajmer","Dibrugarh","Imphal East","Bhopal","Darjeeling","Alwar","Dakshina Kannada","Hassan","Alibag","Vellore","Puducherry","Gandhinagar","North 24 Parganas","Udupi","Kadapa","Imphal West","Aurangabad","Bhavnagar","Srinagar","South 24 Parganas","Krishnagiri","Tirupati","Visakhapatnam","Uttar Kannada","Ernakulam","Srikakulam","Chengalpattu","Kannur","Raipur","Thanjavur","Amravati","Kanchipuram","Mandya","Nadia","South Goa","Kamrup (M)","Warangal","Karimnagar","Indore","Tinsukia","Eluru","Ballari","Calicut","Thrissur","Kottayam","Anantapuramu","Kodagu","Palakkad","Lucknow","Idukki","Kakinada","Thiruvallur","Anand","Satara","Bikaner","Kasaragod","Malappuram","East Sikkim","Faridabad","Thiruvananthapuram","Salem","Cuddalore","Panchkula","Ranipet","Valsad","Koppal","Ongole","Ahmednagar","Rohtak","East District","Kolhapur","Bangalore","Kota","North Goa","Jamnagar","Pathanamthitta","Madurai","Shillong","Kurnool","Nellore","Chittorgarh","Kalaburagi","Vikarabad","Belagavi","Sikar","Tiruppur","Wayanad","Alappuzha","Medchal","Kanyakumari","Sangli","Rajasthan","Amreli","Kallakurichi","Rangareddy","Sabarkantha","Suryapet","Kanpur","Nagaur","Shivamogga","Tiruchirappalli","Hooghly","Karur","South Sikkim","Trichy","Uttara Kannada","Kamrup Metropolitan","Kollam","Siddipet","Erode","Virudhunagar","Dharmapuri","Tuticorin","West Tripura","Villupuram","Namakkal","Patiala","Purba Medinipur","Vijayapura","Ariyalur","Kanniyakumari","Junagadh","Vizianagaram","Guntur","Krishna","Thiruvarur","Jalna","Kutch","Noida","Bilaspur","Chittoor","East Godavari","Kalimpong","South East","Barpeta","Chitradurga","Purba Bardhaman","Sonipat","Chikkamagaluru","Jorhat","Bambolim","Bhilwara","South District","Varanasi","Jodhpur","Ludhiana","Navsari","The Nilgiris","Champhai","Sivagangai","Vijayawada","Yavatmal","Bankura","Nashik","Dharwad","Gadag","Jalpaiguri","Mahabubabad","Nalgonda","Pali","Perambalur","Solapur","Ramanathapuram","Ratnagiri","Theni","Banaskantha","Bharuch","Budgam","Hoshangabad","Patan","Pudukkottai","Sehore","Wardha","Dindigul","Dungarpur","Jind","Kheda","Lunglei","Mahbubnagar","Dakshin Kannad","Khandwa","Paschim Medinipur","West Godavari","Darrang","Dausa","Mangalore","Nizamabad","Pauri Garhwal","Thiruvannamalai","Cachar","Chiplun","Dehradun","Modasa","Sirohi","Tiruchirapalli","Tirunelveli","Tumkur","Bhiwandi","Dhamtari","Lucknowepid","Palwal","Ranga Reddy","Vanasthalipuram","Amritsar","Badlapur","Kohima","Serchhip","Sircilla","Tehri Garhwal","West District","Aligarh","Dahanu","Davangere","Perambaluir","Saiha","Thoothukudi","Agra","Coimbathore","Haridwar","Kancheepuram","Kolar","Mamit","Mayiladuthurai","Morbi","Sirsa","Sonitpur","Bidar","Bishnupur","Charaideo","Chengalpet","Ghaziabad","Golaghat","Haveri","Mathura","Raisen","Surendranagar","Alipurduar","Betul","Gautam Buddha Nagar","Jalgaon","Khawlzawl","Khawzawl","Kolasib","Meerut","Nandurbar","Pondicherry","Sbs Nagar","Ah Narsampet","Balaghat","Bhandara","Bharatpur","Churachandpur","Machilipatnam","Margao","Nagapattinam","Nalhar","West Sikkim","Akola","Ambala","Baramati","Chikkaballapura","Dhule","Jogulamba","Katni","Lakhimpur","Mumbai Suburban","Rupnagar","Trivandrum","Ujjain","Airport","Baloda Bazar","Barmer","Chandrapur","Choryasi","Dakshin Dinajpur","Ganderbal","Gorakhpur","Jangaon","Malda","Nagaon","Nanded","Paschim Bardhaman","Porbandar","Rangaraddy","Surguja","Una","Daskroi","East Khasi Hills","Gangtok","Harda","Himatnagar","Kamrup Rural","Moradabad","Panchmahal","Panipat","Ponda","Raichur","Ri-Bhoi","S.a.s Nagar","Saifai","Sangareddy","Tiruvannamalai","Tuensang","Bahadurgarh","Birbhum","Bongaigaon","Dimapur","East Siang","Gadwal","Ghazipur","Hojai","Kahnpur","Kamareddy","King Koti","Lohit","Majuli","Maldah","Mira Bhayandar","Nalbari","Nilgiris","Prakasam","Prantij","Undefined","Adilabad","Bhadohi","Botad","Chithradurga","Durg","Faridkot","Guna","Jhargram","Lakhimpurkheriepid","Mancherial","Mansa","Mettuguda","Mumbai City","Narsingpur","Papum Pare","Saifai Etawa","Sutrapada","Thiruppur","Vizag","Ahmadabad","Anantnag","Aravalli","Dharwar","Dindori","Dindugul","Dk","East","East Medinipur","Hanumangarh","Hardoi","Hisar","Kangra","Karimganj","Khammam","Lower Siang","Mandla","Morena","Murshidabad","Nadiad","Nagarkurnool","Namsai","Narsinghpur","North Sikkim","Patna","Pratapgarh","Shimoga","Thirupathur","Thoubal","Unakoti","Uttar Dinajpur","Veraval","Balrampur","Baramulla","Bengaluru Rural","Bowenpally","Burdwan","Chamba","Cmomaharajganj","Dahegam","Dahod","Dhalai","East Karbi Anglong","Ghmc","Hnahthial","Jammu","Jashpur","Jogulamba Gadwal","Kalol","Kamjong","Karnal","Mahabubnagar","Mahisagar","Nammakkal","North 24 Paraganas","North East","Palanpur","Panaji","Parkal","Picket","Pulwama","Sangali","Savli","Shahjahapur","Silvassa","Sivasagar","South","Sundergarh","Yadadri","Yadagiri","Ambedkar Nagar","Baksa","Banswara","Barabanki","Belgavi","Bhavanagar","Biswanath","Bodeli","Chc Parkal","Chc Wardhanapet","Churu","Dhemaji","Dhubri","Doda","Domalguda","Fatehgarh Sahib","Ferozepur","Gir Somnath","Godhra","Gonda","Jaisalmer","Jalore","Jhajjar","Kakching","Kangpokpi","Kanker","Khedbrahma","Kodinar","Kurukshetra","Medak","Mohali","Nayagarh","Neemach","Rajsamand","Rewa","Saitual","Secunderabad","Shamli","Sindhudurg","South Tripura","Surajpur","Ukhrul","Uttar Kannad","Washim","Yamuna","Amethi","Ananthapur","Balangir","Bardoli","Baroda","Bhiwani","Bhuj","Bijnor","Chandel","Chandigarh","Chenani","Chhota Udaipur","Chuda","Chuttal Basthi","Coochbehar","Darbhanga","Delhi National Capital Region","Dhandhuka","Dhar","Dholpur","Dima Hasao","Diu","Farukhabad","Fatepura","Gadchiroli","Gaurella Pendra Marwahi","Gaya","Gondal","Gowribidanur","Gwalior","Himmatnagar","Jagtial","Jajpur","Jalandhar","Jamkhambhaliya","Jaunpur","Jetpur","Jhansi","Jhunjhunu","Kadi","Kalahandi","Kalyanpur","Kamrup","Kannauj","Karad","Karaikal","Khorda","Kishanganj","Lawngtlai","Lungei","Mahemdavad","Mahendragarh","Mandsaur","Mandvi","Morigaon","Mulugu","Muzafarnagar","Nalanda","Narsampet","Navi Mumbai","Nizampet","Olpad","Palghar","Papumpare","Pathankot","Puri","Radhanpur","Raebareli","Raebarelly","Ramanagara","Ratlam","Rewari","Sadarpur","Sagar","Secundarabad","Shopian","Sidlaghatta","Sivakasi","Sonepur","South 24 Paraganas","South Delhi","Talala","Tandur","Tapi","Tikamgarh","Tirupattur","Tiruvallur","Tukaramgate","Tvm","Uttarkashi","West Garo Hills","A.s.rao Nagar","Achampet","Adajan","Agar Malwa","Ahmedbad","Alirajpur","Amroha","Aravali","Ayodhya","Azamgarh","Baleshwar","Balod","Bandipora","Bangalore Rural","Barnala","Basheerbagh","Begumpet","Bejbagh","Bengaluru Nagara","Bhind","Bholakpur","Bhupalapally","Bhupalpally","Bijapur","Bokaro","Bollaram","Borabanda","Budaun","Bulandshahr","Buldhana","Burhanpur","Burripalem Road","Chamoli","Chandarnagar","Chandauli","Charki Dadri","Chirang","Dadra And Nagar Haveli","Daman","Dbr Mills","Devbhumi Dwarka","Dh King Koti","Dhanbad","Dhanera","Dhansura","Dhenkanal","Dholka","Dilsukh Nagar","Dindukkal","Fatehpurdso","Fazilka","Gajapati","Gandhi","Gandhi Hospital","Ganjam","Gaziabad","Ghogha","Giridih","Goa","Gool","Hingoli","Hoshngabad","Iiim Colony","Jabalpur","Jagatsinghpur","Jagital","Jamanagar","Janagam","Jaupur","Jharsuguda","Jhujhunu","Kabirdham","Kachchh","Kalanaur","Kamrej","Kamrup Municipal","Kanhachak","Kapadvanj","Kapra","Kapurthala","Kargil","Kendrapada","Kendujhar","Khairatabad","Khairgarh Chhuikhadan Gandai","Khambhaliya","Khorabar","Khowai","Kohlapur","Kolkata India","Kollapur","Korba","Korea","Kotputli","Kumrambeem","Kupwara","Latur","Leh Ladakh","Limkheda","Lucknowdso","Madhapur","Madhubani","Mahaboobnagar","Mahasamund","Mahboobnagar","Mahesana","Mahuva","Malkajgiri","Manendragarh Chirimiri Bharatpur","Mangrol","Maredpally","Marigaon","Marredpally","Mayiladudurai","Medchal-Malkajgiri","Mirzapur","Mohamadguda","Mokokchung","Munger","Musheerabad","Muzaffarnagar","Muzaffarpur","Muzzaffarpur","Nallakunta","Nallapadu Commite Hall","Narmada","Nathudwara","Navimumbai","Nekampur","Nicobar","Niloufer Hospital","Nirmal","Noney","North Tripura","Ntr","Panna","Peddapally","Phc Duggirala","Pithoragarh","Poonch","Prakasham","Pudhukottai","Puppalguda","Purba Barhaman","Purnia","Purulia","R S Pura","Rajbarpet Tenali","Rajgarh","Rajpura","Ramanadhapuram","Ramban","Ratangiri","Rohtas","Roorkee","Saharanpur","Sahibganj","Saidabad","Sambhal","Sanat Nagar","Sanga Reddy","Sant Kabeer Nagar","Sarojininagar","Shalivahan Nagar","Shivamoga","Siddhpur","Siricilla","Sitamarhi","Sivsagar","Smgs","Snp","Somajiguda","South West","South West Garo Hills","Sultanpur","Suryapeta","Talab Tillo","Talod","Tangan","Tanjore","Teegalakunta","Tellapur","Tenkasi","Thenilgiris","Thirunelveli","Thirvarur","Tilaknagar","Timarni","Tiruvanamallai","Towlichowki","Trippur","Tuklakabad","Tumakuru","Udukki","Uphc Gandhi","Uppuguda","Vasai","Vidisha","Villmojiapskotwlai","Virar","Wanaparthy","Wardhanapet","West Champaran","West Kameng","West Karbi Anglong","West Siang","Yadgir","Yadlapadu","Yakuthpura-I"],[15199,2249,2010,1940,1500,1024,843,815,798,622,568,563,529,484,471,464,440,432,359,320,319,287,285,277,270,256,213,207,191,190,180,167,167,164,162,162,157,152,141,141,140,137,134,131,129,125,119,115,115,111,110,110,109,109,107,107,103,103,103,103,101,100,98,97,94,94,93,92,92,92,91,88,88,88,87,86,86,86,84,83,82,81,80,79,78,78,76,75,75,75,74,73,72,71,71,70,70,69,67,67,66,66,61,61,60,60,59,59,59,58,58,58,58,54,53,52,52,51,50,50,49,49,49,48,48,48,48,47,45,45,44,44,43,43,43,42,42,41,41,41,40,39,39,39,39,38,38,36,36,35,35,35,34,34,33,32,32,32,32,31,30,30,30,30,29,29,28,28,28,28,27,27,27,27,26,26,26,26,25,25,24,24,24,24,24,24,24,24,23,23,23,22,22,22,22,22,22,22,22,21,21,21,21,21,21,20,20,20,20,19,19,19,19,19,19,18,18,18,18,18,18,18,18,17,17,17,17,17,17,16,16,16,16,16,16,16,15,15,15,15,15,15,14,14,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>City<\/th>\n      <th>Total sequences<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"City","targets":1},{"name":"Total sequences","targets":2}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="get-monthly-cases-for-kolkata">Get monthly cases for Kolkata<a class="anchor" aria-label="anchor" href="#get-monthly-cases-for-kolkata"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chennai_monthly_cases</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesMonthlyLong.html">GetIndiaConfirmedCasesMonthlyLong</a></span><span class="op">(</span>level <span class="op">=</span> <span class="st">"district"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">District</span> <span class="op">==</span> <span class="st">"Kolkata"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">661869</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">8</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #BB0000;">chr</span>  (2): State, District</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span>  (5): Confirmed, Recovered, Deceased, Other, Tested</span></span>
<span><span class="co">## <span style="color: #0000BB;">date</span> (1): Date</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">chennai_monthly_cases</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   MonthYear, State [6]</span></span></span>
<span><span class="co">##   MonthYear State       District value</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;yearmon&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Apr 2020  West Bengal Kolkata    184</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> May 2020  West Bengal Kolkata   <span style="text-decoration: underline;">1</span>941</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Jun 2020  West Bengal Kolkata   <span style="text-decoration: underline;">3</span>859</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> Jul 2020  West Bengal Kolkata  <span style="text-decoration: underline;">15</span>655</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> Aug 2020  West Bengal Kolkata  <span style="text-decoration: underline;">18</span>518</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> Sep 2020  West Bengal Kolkata  <span style="text-decoration: underline;">16</span>255</span></span></code></pre>
<div class="section level3">
<h3 id="plot-monthly-cases-for-kolkata">Plot monthly cases for Kolkata<a class="anchor" aria-label="anchor" href="#plot-monthly-cases-for-kolkata"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">BarPlot</span><span class="op">(</span><span class="va">chennai_monthly_cases</span>, ylabel <span class="op">=</span> <span class="st">"Cases per month"</span>, label_si <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="st">"Total cases per month - Kolkata (India)"</span>, caption <span class="op">=</span> <span class="st">"**Source: covid19bharat.org**&lt;br&gt;"</span><span class="op">)</span></span>
<span><span class="va">p1</span></span></code></pre></div>
<p><img src="VarinatAnimation-Kolkata_files/figure-html/unnamed-chunk-5-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="get-weekly-cases-for-kolkata">Get weekly cases for Kolkata<a class="anchor" aria-label="anchor" href="#get-weekly-cases-for-kolkata"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chennai_seq_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/TotalSequencesPerMonthCountrywise.html">TotalSequencesPerMonthCountrywise</a></span><span class="op">(</span><span class="va">gisaid_india</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">custom_city</span> <span class="op">==</span> <span class="st">"Kolkata"</span><span class="op">)</span>, rename_country_as_state <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">BarPlot</span><span class="op">(</span><span class="va">chennai_seq_stats</span>, ylabel <span class="op">=</span> <span class="st">"Sequenced per month"</span>, color <span class="op">=</span> <span class="st">"slateblue1"</span>, label_si <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="st">"Total sequences deposited to GISAID from Kolkata (India)"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org **&lt;br&gt;"</span><span class="op">)</span></span>
<span><span class="va">p2</span></span></code></pre></div>
<p><img src="VarinatAnimation-Kolkata_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
<div class="section level3">
<h3 id="overall-how-much-has-kolkata-sequenced-over-months">Overall, how much has Kolkata sequenced over months?<a class="anchor" aria-label="anchor" href="#overall-how-much-has-kolkata-sequenced-over-months"></a>
</h3>
<p>While the absolute numbers are informative, a more useful metric is
the proportion of cases (cases sequenced over total cases) that are
getting sequenced. Here we look at the proportion of cases that have
been sequenced in India over the course of the pandemic:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chennai_monthly_cases_tmp</span> <span class="op">&lt;-</span> <span class="va">chennai_monthly_cases</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">MonthYear</span>, <span class="va">value</span><span class="op">)</span></span>
<span><span class="va">chennai_monthly_cases_tmp</span><span class="op">$</span><span class="va">State</span> <span class="op">&lt;-</span> <span class="st">"India"</span></span>
<span><span class="va">chennai_monthly_cases_tmp</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="st">"Confirmed"</span></span>
<span></span>
<span><span class="va">chennai_monthly_cases_tmp</span> <span class="op">&lt;-</span> <span class="va">chennai_monthly_cases_tmp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">MonthYear</span>, <span class="va">State</span>, <span class="va">value</span>, <span class="va">type</span><span class="op">)</span></span>
<span><span class="va">sequencing_proportion</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/CombineSequencedCases.html">CombineSequencedCases</a></span><span class="op">(</span></span>
<span>  cases_sequenced <span class="op">=</span> <span class="va">chennai_seq_stats</span>,</span>
<span>  confirmed_long <span class="op">=</span> <span class="va">chennai_monthly_cases_tmp</span></span>
<span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu">BarPlot</span><span class="op">(</span><span class="va">sequencing_proportion</span>, yaxis <span class="op">=</span> <span class="st">"percent_sequenced_collected"</span>, ylabel <span class="op">=</span> <span class="st">"%  deposited to GISAID"</span>, color <span class="op">=</span> <span class="st">"yellowgreen"</span>, title <span class="op">=</span> <span class="st">"Proportion of cases deposited to GISAID from Kolkata (India)"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org and covid19bharat.org**&lt;br&gt;"</span><span class="op">)</span></span>
<span><span class="va">p3</span></span></code></pre></div>
<p><img src="VarinatAnimation-Kolkata_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">/</span> <span class="va">p2</span> <span class="op">/</span> <span class="va">p3</span></span></code></pre></div>
<p><img src="VarinatAnimation-Kolkata_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="project-weekly-cases-to-variant-prevalence-data-from-gisaid">Project weekly cases to variant prevalence data from GISAID<a class="anchor" aria-label="anchor" href="#project-weekly-cases-to-variant-prevalence-data-from-gisaid"></a>
</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confirmed_subset_dateweekwise_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesWeeklyLong.html">GetIndiaConfirmedCasesWeeklyLong</a></span><span class="op">(</span>level <span class="op">=</span> <span class="st">"district"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">gisaid_dist_weekwise</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SummarizeVariantsWeekwise.html">SummarizeVariantsWeekwise</a></span><span class="op">(</span><span class="va">gisaid_india</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">custom_city</span> <span class="op">==</span> <span class="st">"Kolkata"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">WeekYearCollected</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">confirmed_subset_dateweekwise_long_dist</span> <span class="op">&lt;-</span> <span class="va">confirmed_subset_dateweekwise_long</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">District</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Kolkata"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">value</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>WeekYearCollected <span class="op">=</span> <span class="va">WeekYear</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"type"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">WeekYearCollected</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">gisaid_dist_weekwise</span><span class="op">$</span><span class="va">WeekYearCollected</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">confirmed_subset_dateweekwise_long_dist</span><span class="op">$</span><span class="va">State</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="va">voc_to_keep</span> <span class="op">&lt;-</span> <span class="va">gisaid_dist_weekwise</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">lineage_collapsed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n_sum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n_sum</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">lineage_collapsed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">gisaid_dist_weekwise</span> <span class="op">&lt;-</span> <span class="va">gisaid_dist_weekwise</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">lineage_collapsed</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">voc_to_keep</span><span class="op">)</span></span>
<span></span>
<span><span class="va">india_cases_pred_prob_sel_long</span> <span class="op">&lt;-</span> <span class="fu">FitMultinomWeekly</span><span class="op">(</span><span class="va">gisaid_dist_weekwise</span>, <span class="va">confirmed_subset_dateweekwise_long_dist</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## # weights:  32 (21 variable)</span></span>
<span><span class="co">## initial  value 1750.889778 </span></span>
<span><span class="co">## iter  10 value 626.748193</span></span>
<span><span class="co">## iter  20 value 536.254647</span></span>
<span><span class="co">## iter  30 value 530.811950</span></span>
<span><span class="co">## iter  40 value 509.760387</span></span>
<span><span class="co">## iter  50 value 500.801720</span></span>
<span><span class="co">## iter  60 value 494.314745</span></span>
<span><span class="co">## iter  70 value 485.956165</span></span>
<span><span class="co">## iter  80 value 476.450922</span></span>
<span><span class="co">## iter  90 value 471.247783</span></span>
<span><span class="co">## iter 100 value 469.841441</span></span>
<span><span class="co">## iter 110 value 468.964896</span></span>
<span><span class="co">## iter 120 value 468.741935</span></span>
<span><span class="co">## iter 130 value 467.011407</span></span>
<span><span class="co">## iter 140 value 466.767401</span></span>
<span><span class="co">## iter 150 value 466.296016</span></span>
<span><span class="co">## iter 160 value 466.142023</span></span>
<span><span class="co">## iter 170 value 465.389155</span></span>
<span><span class="co">## iter 180 value 465.274039</span></span>
<span><span class="co">## iter 190 value 465.081620</span></span>
<span><span class="co">## iter 200 value 465.036608</span></span>
<span><span class="co">## iter 210 value 464.923539</span></span>
<span><span class="co">## iter 220 value 464.564645</span></span>
<span><span class="co">## iter 230 value 464.271183</span></span>
<span><span class="co">## iter 240 value 464.232019</span></span>
<span><span class="co">## iter 250 value 464.192138</span></span>
<span><span class="co">## iter 260 value 463.990355</span></span>
<span><span class="co">## iter 270 value 463.820082</span></span>
<span><span class="co">## iter 280 value 463.786740</span></span>
<span><span class="co">## iter 290 value 463.755574</span></span>
<span><span class="co">## iter 300 value 463.568585</span></span>
<span><span class="co">## iter 310 value 463.553375</span></span>
<span><span class="co">## iter 320 value 463.495724</span></span>
<span><span class="co">## iter 330 value 463.409038</span></span>
<span><span class="co">## iter 340 value 463.361392</span></span>
<span><span class="co">## iter 350 value 463.338901</span></span>
<span><span class="co">## iter 360 value 463.311517</span></span>
<span><span class="co">## iter 370 value 463.236557</span></span>
<span><span class="co">## iter 380 value 463.193102</span></span>
<span><span class="co">## iter 390 value 463.139024</span></span>
<span><span class="co">## iter 400 value 463.088294</span></span>
<span><span class="co">## iter 410 value 463.034732</span></span>
<span><span class="co">## iter 420 value 462.975124</span></span>
<span><span class="co">## iter 430 value 462.937903</span></span>
<span><span class="co">## iter 440 value 462.904688</span></span>
<span><span class="co">## iter 450 value 462.886551</span></span>
<span><span class="co">## iter 460 value 462.828593</span></span>
<span><span class="co">## iter 470 value 462.755027</span></span>
<span><span class="co">## iter 480 value 462.738014</span></span>
<span><span class="co">## iter 490 value 462.653073</span></span>
<span><span class="co">## iter 500 value 462.598924</span></span>
<span><span class="co">## iter 510 value 462.584119</span></span>
<span><span class="co">## iter 520 value 462.496394</span></span>
<span><span class="co">## iter 530 value 462.409700</span></span>
<span><span class="co">## iter 540 value 462.398562</span></span>
<span><span class="co">## iter 550 value 462.356787</span></span>
<span><span class="co">## iter 560 value 462.244444</span></span>
<span><span class="co">## iter 570 value 462.228713</span></span>
<span><span class="co">## iter 580 value 462.135241</span></span>
<span><span class="co">## iter 590 value 462.092795</span></span>
<span><span class="co">## iter 600 value 462.080165</span></span>
<span><span class="co">## iter 610 value 462.061369</span></span>
<span><span class="co">## iter 620 value 462.053575</span></span>
<span><span class="co">## iter 630 value 462.013013</span></span>
<span><span class="co">## iter 640 value 461.920232</span></span>
<span><span class="co">## iter 650 value 461.903857</span></span>
<span><span class="co">## iter 660 value 461.871025</span></span>
<span><span class="co">## iter 670 value 461.803031</span></span>
<span><span class="co">## iter 680 value 461.776690</span></span>
<span><span class="co">## iter 690 value 461.761482</span></span>
<span><span class="co">## iter 700 value 461.756041</span></span>
<span><span class="co">## iter 710 value 461.742347</span></span>
<span><span class="co">## iter 720 value 461.716431</span></span>
<span><span class="co">## iter 730 value 461.662583</span></span>
<span><span class="co">## iter 740 value 461.625030</span></span>
<span><span class="co">## iter 750 value 461.582530</span></span>
<span><span class="co">## iter 760 value 461.535611</span></span>
<span><span class="co">## iter 770 value 461.509396</span></span>
<span><span class="co">## iter 780 value 461.499547</span></span>
<span><span class="co">## iter 790 value 461.488872</span></span>
<span><span class="co">## iter 800 value 461.471609</span></span>
<span><span class="co">## iter 810 value 461.431146</span></span>
<span><span class="co">## iter 820 value 461.381560</span></span>
<span><span class="co">## iter 830 value 461.369044</span></span>
<span><span class="co">## iter 840 value 461.323343</span></span>
<span><span class="co">## iter 850 value 461.283620</span></span>
<span><span class="co">## iter 860 value 461.263564</span></span>
<span><span class="co">## final  value 461.263064 </span></span>
<span><span class="co">## converged</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">the_anim</span> <span class="op">&lt;-</span> <span class="fu">PlotVariantPrevalenceAnimated</span><span class="op">(</span><span class="va">india_cases_pred_prob_sel_long</span>, title <span class="op">=</span> <span class="st">"Estimated cases (weekly average) in Kolkata (India) by variant"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org and covid19bharat.org**"</span>, date_breaks <span class="op">=</span> <span class="st">"28 days"</span><span class="op">)</span></span>
<span><span class="fu">gganimate</span><span class="fu">::</span><span class="fu"><a href="https://gganimate.com/reference/anim_save.html" class="external-link">anim_save</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"docs/articles/Kolkata_animated.gif"</span><span class="op">)</span>, animation <span class="op">=</span> <span class="va">the_anim</span><span class="op">)</span></span></code></pre></div>
<p><img src="Kolkata_animated.gif"></p>
<p>Look at cases after January, 2022 only:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confirmed_subset_dateweekwise_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesWeeklyLong.html">GetIndiaConfirmedCasesWeeklyLong</a></span><span class="op">(</span>level <span class="op">=</span> <span class="st">"district"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">661869</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">8</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #BB0000;">chr</span>  (2): State, District</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span>  (5): Confirmed, Recovered, Deceased, Other, Tested</span></span>
<span><span class="co">## <span style="color: #0000BB;">date</span> (1): Date</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confirmed_subset_dateweekwise_long</span> <span class="op">&lt;-</span> <span class="va">confirmed_subset_dateweekwise_long</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">WeekYear</span> <span class="op">&gt;=</span> <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/year-week.html" class="external-link">yearweek</a></span><span class="op">(</span><span class="st">"2021 W35"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">District</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Kolkata"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">WeekYear</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">WeekYear</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>WeekYearCollected <span class="op">=</span> <span class="va">WeekYear</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_dist</span> <span class="op">&lt;-</span> <span class="va">gisaid_india</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">MonthYearCollected</span> <span class="op">&gt;</span> <span class="st">"Dec 2021"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">custom_city</span> <span class="op">==</span> <span class="st">"Kolkata"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">WeekYearCollected</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_weekwise</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SummarizeVariantsWeekwise.html">SummarizeVariantsWeekwise</a></span><span class="op">(</span><span class="va">gisaid_dist</span><span class="op">)</span></span>
<span></span>
<span><span class="va">voc_to_keep</span> <span class="op">&lt;-</span> <span class="va">gisaid_weekwise</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">lineage_collapsed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n_sum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n_sum</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">lineage_collapsed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">gisaid_weekwise</span> <span class="op">&lt;-</span> <span class="va">gisaid_weekwise</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">lineage_collapsed</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">voc_to_keep</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cases_pred_prob_sel_long</span> <span class="op">&lt;-</span> <span class="fu">FitMultinomWeekly</span><span class="op">(</span><span class="va">gisaid_weekwise</span>, <span class="va">confirmed_subset_dateweekwise_long</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## # weights:  28 (18 variable)</span></span>
<span><span class="co">## initial  value 883.443208 </span></span>
<span><span class="co">## iter  10 value 335.108368</span></span>
<span><span class="co">## iter  20 value 324.838657</span></span>
<span><span class="co">## iter  30 value 322.253049</span></span>
<span><span class="co">## iter  40 value 318.432426</span></span>
<span><span class="co">## iter  50 value 317.060307</span></span>
<span><span class="co">## iter  60 value 316.879133</span></span>
<span><span class="co">## iter  70 value 316.296114</span></span>
<span><span class="co">## iter  80 value 316.020128</span></span>
<span><span class="co">## iter  90 value 315.819255</span></span>
<span><span class="co">## iter 100 value 315.748065</span></span>
<span><span class="co">## iter 110 value 315.695031</span></span>
<span><span class="co">## iter 120 value 315.681956</span></span>
<span><span class="co">## iter 130 value 315.634814</span></span>
<span><span class="co">## iter 140 value 315.538348</span></span>
<span><span class="co">## iter 150 value 315.441308</span></span>
<span><span class="co">## iter 160 value 315.350999</span></span>
<span><span class="co">## iter 170 value 315.301060</span></span>
<span><span class="co">## iter 180 value 315.268890</span></span>
<span><span class="co">## iter 190 value 315.142223</span></span>
<span><span class="co">## iter 200 value 315.085838</span></span>
<span><span class="co">## iter 210 value 315.063260</span></span>
<span><span class="co">## iter 220 value 315.050360</span></span>
<span><span class="co">## iter 230 value 315.048052</span></span>
<span><span class="co">## iter 240 value 315.037922</span></span>
<span><span class="co">## iter 250 value 315.021620</span></span>
<span><span class="co">## iter 260 value 314.992851</span></span>
<span><span class="co">## iter 270 value 314.974290</span></span>
<span><span class="co">## iter 280 value 314.958264</span></span>
<span><span class="co">## iter 290 value 314.953458</span></span>
<span><span class="co">## iter 300 value 314.947099</span></span>
<span><span class="co">## iter 310 value 314.942227</span></span>
<span><span class="co">## iter 320 value 314.937633</span></span>
<span><span class="co">## iter 330 value 314.915625</span></span>
<span><span class="co">## iter 340 value 314.887206</span></span>
<span><span class="co">## iter 350 value 314.868674</span></span>
<span><span class="co">## iter 360 value 314.864320</span></span>
<span><span class="co">## iter 370 value 314.856633</span></span>
<span><span class="co">## iter 380 value 314.850492</span></span>
<span><span class="co">## iter 390 value 314.847093</span></span>
<span><span class="co">## iter 400 value 314.844057</span></span>
<span><span class="co">## iter 410 value 314.824075</span></span>
<span><span class="co">## iter 420 value 314.807441</span></span>
<span><span class="co">## iter 430 value 314.802939</span></span>
<span><span class="co">## iter 440 value 314.800667</span></span>
<span><span class="co">## iter 450 value 314.791619</span></span>
<span><span class="co">## iter 460 value 314.787905</span></span>
<span><span class="co">## iter 470 value 314.780216</span></span>
<span><span class="co">## iter 480 value 314.775040</span></span>
<span><span class="co">## final  value 314.774803 </span></span>
<span><span class="co">## converged</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">the_anim</span> <span class="op">&lt;-</span> <span class="fu">PlotVariantPrevalenceAnimated</span><span class="op">(</span><span class="va">cases_pred_prob_sel_long</span>, title <span class="op">=</span> <span class="st">"Estimated cases (weekly average) in Kolkata (India) by variant"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org and covid19bharat.org**&lt;br&gt;"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_line()`: Each group consists of only one observation.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Do you need to adjust the <span style="color: #00BB00;">group</span> aesthetic?</span></span>
<span><span class="co">## `geom_line()`: Each group consists of only one observation.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Do you need to adjust the <span style="color: #00BB00;">group</span> aesthetic?</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gganimate</span><span class="fu">::</span><span class="fu"><a href="https://gganimate.com/reference/anim_save.html" class="external-link">anim_save</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"docs/articles/Kolkata_animated_2021.gif"</span><span class="op">)</span>, animation <span class="op">=</span> <span class="va">the_anim</span><span class="op">)</span></span></code></pre></div>
<p><img src="Kolkata_animated_2021.gif"></p>
<p>Look at cases in the last few weeks:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confirmed_subset_dateweekwise_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GetIndiaConfirmedCasesWeeklyLong.html">GetIndiaConfirmedCasesWeeklyLong</a></span><span class="op">(</span>level <span class="op">=</span> <span class="st">"district"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">661869</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">8</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #BB0000;">chr</span>  (2): State, District</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span>  (5): Confirmed, Recovered, Deceased, Other, Tested</span></span>
<span><span class="co">## <span style="color: #0000BB;">date</span> (1): Date</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confirmed_subset_dateweekwise_long</span> <span class="op">&lt;-</span> <span class="va">confirmed_subset_dateweekwise_long</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">WeekYear</span> <span class="op">&gt;=</span> <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/year-week.html" class="external-link">yearweek</a></span><span class="op">(</span><span class="st">"2022 W12"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">District</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Kolkata"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">WeekYear</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">WeekYear</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>WeekYearCollected <span class="op">=</span> <span class="va">WeekYear</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_dist</span> <span class="op">&lt;-</span> <span class="va">gisaid_india</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">MonthYearCollected</span> <span class="op">&gt;</span> <span class="st">"Dec 2021"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">custom_city</span> <span class="op">==</span> <span class="st">"Kolkata"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">WeekYearCollected</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gisaid_weekwise</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SummarizeVariantsWeekwise.html">SummarizeVariantsWeekwise</a></span><span class="op">(</span><span class="va">gisaid_dist</span><span class="op">)</span></span>
<span></span>
<span><span class="va">voc_to_keep</span> <span class="op">&lt;-</span> <span class="va">gisaid_weekwise</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">lineage_collapsed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n_sum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">n_sum</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">lineage_collapsed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">gisaid_weekwise</span> <span class="op">&lt;-</span> <span class="va">gisaid_weekwise</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">lineage_collapsed</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">voc_to_keep</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cases_pred_prob_sel_long</span> <span class="op">&lt;-</span> <span class="fu">FitMultinomWeekly</span><span class="op">(</span><span class="va">gisaid_weekwise</span>, <span class="va">confirmed_subset_dateweekwise_long</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## # weights:  28 (18 variable)</span></span>
<span><span class="co">## initial  value 883.443208 </span></span>
<span><span class="co">## iter  10 value 335.108368</span></span>
<span><span class="co">## iter  20 value 324.838657</span></span>
<span><span class="co">## iter  30 value 322.253049</span></span>
<span><span class="co">## iter  40 value 318.432426</span></span>
<span><span class="co">## iter  50 value 317.060307</span></span>
<span><span class="co">## iter  60 value 316.879133</span></span>
<span><span class="co">## iter  70 value 316.296114</span></span>
<span><span class="co">## iter  80 value 316.020128</span></span>
<span><span class="co">## iter  90 value 315.819255</span></span>
<span><span class="co">## iter 100 value 315.748065</span></span>
<span><span class="co">## iter 110 value 315.695031</span></span>
<span><span class="co">## iter 120 value 315.681956</span></span>
<span><span class="co">## iter 130 value 315.634814</span></span>
<span><span class="co">## iter 140 value 315.538348</span></span>
<span><span class="co">## iter 150 value 315.441308</span></span>
<span><span class="co">## iter 160 value 315.350999</span></span>
<span><span class="co">## iter 170 value 315.301060</span></span>
<span><span class="co">## iter 180 value 315.268890</span></span>
<span><span class="co">## iter 190 value 315.142223</span></span>
<span><span class="co">## iter 200 value 315.085838</span></span>
<span><span class="co">## iter 210 value 315.063260</span></span>
<span><span class="co">## iter 220 value 315.050360</span></span>
<span><span class="co">## iter 230 value 315.048052</span></span>
<span><span class="co">## iter 240 value 315.037922</span></span>
<span><span class="co">## iter 250 value 315.021620</span></span>
<span><span class="co">## iter 260 value 314.992851</span></span>
<span><span class="co">## iter 270 value 314.974290</span></span>
<span><span class="co">## iter 280 value 314.958264</span></span>
<span><span class="co">## iter 290 value 314.953458</span></span>
<span><span class="co">## iter 300 value 314.947099</span></span>
<span><span class="co">## iter 310 value 314.942227</span></span>
<span><span class="co">## iter 320 value 314.937633</span></span>
<span><span class="co">## iter 330 value 314.915625</span></span>
<span><span class="co">## iter 340 value 314.887206</span></span>
<span><span class="co">## iter 350 value 314.868674</span></span>
<span><span class="co">## iter 360 value 314.864320</span></span>
<span><span class="co">## iter 370 value 314.856633</span></span>
<span><span class="co">## iter 380 value 314.850492</span></span>
<span><span class="co">## iter 390 value 314.847093</span></span>
<span><span class="co">## iter 400 value 314.844057</span></span>
<span><span class="co">## iter 410 value 314.824075</span></span>
<span><span class="co">## iter 420 value 314.807441</span></span>
<span><span class="co">## iter 430 value 314.802939</span></span>
<span><span class="co">## iter 440 value 314.800667</span></span>
<span><span class="co">## iter 450 value 314.791619</span></span>
<span><span class="co">## iter 460 value 314.787905</span></span>
<span><span class="co">## iter 470 value 314.780216</span></span>
<span><span class="co">## iter 480 value 314.775040</span></span>
<span><span class="co">## final  value 314.774803 </span></span>
<span><span class="co">## converged</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">the_anim</span> <span class="op">&lt;-</span> <span class="fu">PlotVariantPrevalenceAnimated</span><span class="op">(</span><span class="va">cases_pred_prob_sel_long</span>, title <span class="op">=</span> <span class="st">"Estimated cases (weekly average) in Kolkata (India) by variant"</span>, caption <span class="op">=</span> <span class="st">"**Source: gisaid.org and covid19bharat.org**&lt;br&gt;"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `geom_line()`: Each group consists of only one observation.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Do you need to adjust the <span style="color: #00BB00;">group</span> aesthetic?</span></span>
<span><span class="co">## `geom_line()`: Each group consists of only one observation.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Do you need to adjust the <span style="color: #00BB00;">group</span> aesthetic?</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gganimate</span><span class="fu">::</span><span class="fu"><a href="https://gganimate.com/reference/anim_save.html" class="external-link">anim_save</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"docs/articles/Kolkata_animated_2022.gif"</span><span class="op">)</span>, animation <span class="op">=</span> <span class="va">the_anim</span><span class="op">)</span></span></code></pre></div>
<p><img src="Kolkata_animated_2022.gif"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Saket Choudhary.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
